@model OrchardHUN.Scripting.Models.ScriptPart

@using (Script.Foot())
{
    <script type="text/javascript">
        (function ($) {
            var editor = ace.edit("orchardhun-scripting-editor");
            var engine = $("#@Html.FieldIdFor(m => m.Engine)");

            var setPhpEditorIfSelected = function () {
                if (engine.val() == "PHP") editor.getSession().setMode("ace/mode/php");
            };

            setPhpEditorIfSelected();

            engine.change(function (e) {
                setPhpEditorIfSelected();
            });
        })(jQuery);
    </script>
}